@model Lab5.Models.DijkstraInputModel
@{
    ViewBag.Title = "Алгоритм Дейкстри";
}

<div class="row">
    <div class="col-lg-12">
        <h2>@ViewBag.Title</h2>
        <hr/>
        @using (Html.BeginForm("Index", "Dijkstra",
            method: FormMethod.Get, htmlAttributes: new { }))
        {
          <div class="form-group">
            <label for="NodeCount">Кількість Вузлів</label>
            @Html.TextBoxFor(Model => Model.NodeCount,
            htmlAttributes: new { @class = "form-control", placeholder = "Кількість вузлів" })

            @Html.HiddenFor(Model => Model.MatrixSize)
            @Html.HiddenFor(Model => Model.MatrixStr)
            
          </div> 
          
          <input type="submit" class="btn btn-default" value="Оновити" />
          
          <hr/>
        }

        @using (Html.BeginForm("Result", "Dijkstra",
            method: FormMethod.Get, htmlAttributes: new { }))
        {
        <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Матриця суміжності</h3>
            </div>
            <div class="table-responsive">
                <table class="table" id="Matrix">
                    <tr>
                        <th></th>
                        @for(int i = 0; i < Model.Matrix.Count; i++)
                        {
                            <th>@(i+1)</th>
                        }
                    </tr>
                    @for(int i = 0; i < Model.Matrix.Count; i++)
                    {
                    <tr>
                        <th>@(i+1)</th>
                        @for(int j = 0; j < Model.Matrix[i].Count; j++)
                        {
                        <td>
                            @Html.TextBoxFor(Model => Model.Matrix[i][j], htmlAttributes: new { @class= "form-control"})
                        </td>
                        }
                    </tr>
                    }
                </table>
            </div>
        </div>
    
        <hr/>
        <div class="form-group">
            <label for="StartIdx">Індекс початкової вершини</label>
            @Html.TextBoxFor(Model => Model.StartIdx,
            htmlAttributes: new { @class = "form-control", placeholder = "Індекс вершини" })

            @Html.HiddenFor(Model => Model.NodeCount)
            
          </div>

        <input type="submit" class="btn btn-lg btn-primary" value="Результати" />
        }
        


    </div>

</div>